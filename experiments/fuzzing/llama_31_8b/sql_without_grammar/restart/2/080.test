set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-table-1.0 {
  execsql {
    CREATE TABLE orders(id INTEGER PRIMARY KEY, customer_id INTEGER, order_date DATE,
        INDEX idx_customer_id ON orders ORDER BY customer_id, order_date DESC);
    INSERT INTO orders(id, customer_id, order_date) VALUES
      (1, 101, '2020-01-01');
    INSERT INTO orders(id, customer_id, order_date) VALUES
      (2, 102, '2020-01-15');
    INSERT INTO orders(id, customer_id, order_date) VALUES
      (3, 101, '2020-01-20');
  }
} {}

do_test select-orders-1.1 {
  execsql {
    SELECT order_date FROM orders WHERE customer_id = 101 ORDER BY order_date;
  }
} {2020-01-01 2020-01-20}

finish_test