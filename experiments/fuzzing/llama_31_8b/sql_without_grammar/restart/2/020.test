set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-tables-3.0 {
  execsql {
    CREATE TABLE customers(id INTEGER PRIMARY KEY, name TEXT);
    CREATE TABLE orders(id INTEGER PRIMARY KEY, customer_id INTEGER, FOREIGN KEY customer_id REFERENCES customers ON DELETE CASCADE);
    INSERT INTO customers(id, name) VALUES(300, 'John Doe');
    INSERT INTO customers(id, name) VALUES(301, 'Jane Doe');
    INSERT INTO orders(id, customer_id) VALUES(3001, 300);
    INSERT INTO orders(id, customer_id) VALUES(3002, 301);
  }
} {}

do_test delete-customer-3.1 {
  execsql {
    DELETE FROM customers WHERE id = 301;
  }
} {1 {}  				   	                        	 	                             	   	   	

  		   	 	 	   						 	      	                                   		    		     	                                                  	                                     	                                    		                	                                           		     	 	                              		                    		   	 		   		
  		 	 	  	 	 	   	 		 	 	   	                       	                                        	 	                                          	   	       	 		                                      	                  	 	 	                          	                                 	 	        	                     	 	 	 	 	                                    		                            	 	   	 	 	 		                                    
	 	 	 	 	 	                                       	   	 	 	 	 	                                      				                   		                    	 	 	 	 	                                		                              				             	 								 	 				                 	 	                                 	 					         	 	   						                                                                   
             	                                      					      	                           	 	   	 	       	 	  	                            	 	    	       	 	 	       	 	                           	 	   	   	  					 	                                                             				    					                     	 	   	 	 	                
  		   	 	                                                               	 	 	 	  	    	       	 	 	 	                                      					   
  		   	 	                                      			 				   				      	 	
  		   	 	                                        				            															
  		   	 	                                      							 		    					       		 	    	    
  		   	 	                                      			 	           													 	 	 	 					                  	

 	                                   													         	 	 		                                    	               								 	            


  		 	                                                         				                   	                   

 	                                      				                    
  		 	 	                            										
  		   	 	            

  		   	 	                        
  		 	 	                  	       						
  		   	 						            	      				               	 			         			          	
  		 	 				                    			                 	 	 					        					        			     	 	                                 														            
  