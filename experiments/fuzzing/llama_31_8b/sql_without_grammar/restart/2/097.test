set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-foreign-key-3.0 {
  execsql {
    CREATE TABLE orders(id INTEGER PRIMARY KEY, customer_id INTEGER);
    CREATE TABLE customers(id INTEGER PRIMARY KEY, name TEXT);
    INSERT INTO customers VALUES(101, 'John Doe');
    INSERT INTO orders VALUES(101, 101);
  }
} {}

do_test insert-foreign-key-3.1 {
  execsql {
    DELETE FROM customers WHERE id = 101;
  }
} {1 {FOREIGN KEY constraint failed: orders.customer_id} 
                                                                
         														  											
   	                                                         	                                              
        														 												
		                                                           			
    	      				 
    			 												   	   	 	                     
         		           											     						  
   	 																			 		 	   					
   	  			        	 																			
   					                                                                												
   					                                    	 			  
                        														  
  																						 		 		 	
   					 			                                                            	 	         
                                                                      	                              	 
                                                                                         																													         
   																					 												                               
   						    		       								                                													        
   						   						   		                                     											
   					 	                                                     		
 	                                							                        		    
                  	 																														                                                                 
   						    	     													                                           	
 	                                               														     								    							                                                                   
   			         																													                                               
   					    		                                        																			
 		 																			                                            								  
 		 			         																																													

	                                            																						

  					   																		  																		
 		 				                                                 											   				  	 
  														  							                                 	                      	                   
														                                                                                                                                   
  					           	 					                                   														       
																			             			 

	                                                                        
 		   	 	                                                 
                    												                                                                                       
    					                                                 
 				    	   														  		 				                            				     			 
 	   				  	                                                   	                                      							 	              			  
      
                     						  

   					    					 
   	 				 	                              	   		
   						    					 
   	 													    					  						    
 	   					 
				 
					 
 	                                               				               	
	
  					       	 	 					


 	                                                
   					                                                        									
										
 	                                      								   			                        
			   
   					  	                               						 	
 	                                    				            		 																			 

						                      
						     							            	                     			          					    
			                          					        											  											
				                                                