set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-tables-1.0 {
  execsql {
    CREATE TABLE employees(id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT, department TEXT);
    CREATE TABLE salaries(id INTEGER PRIMARY KEY AUTOINCREMENT, employee_id INTEGER, salary REAL, FOREIGN KEY employee_id REFERENCES employees);
    INSERT INTO employees(id, name, department) VALUES(1, 'Alice', 'Sales');
    INSERT INTO employees(id, name, department) VALUES(2, 'Bob', 'Marketing');
    INSERT INTO salaries(id, employee_id, salary) VALUES(1, 1, 5000.0);
  }
} {}

do_test update-salary-1.1 {
  execsql {
    UPDATE employees SET salary = 6000.0 WHERE id = 1;
    SELECT salary FROM salaries WHERE employee_id = 1;
  }
} {6000.0}

finish_test