set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-ftables-1.0 {
  execsql {
    CREATE TABLE customers (id INTEGER PRIMARY KEY, name TEXT);
    CREATE TABLE orders (id INTEGER PRIMARY KEY, customer_id INTEGER, 
                        FOREIGN KEY customer_id REFERENCES customers ON DELETE CASCADE);
    INSERT INTO customers VALUES(1, 'Alice');
    INSERT INTO orders VALUES(1, 1);
  }
} {}

do_test delete-cascade-1.1 {
  execsql {
    DELETE FROM customers WHERE name = 'Alice';
    SELECT * FROM orders;
  }
} {{1 1 1 {1 Alice}  											   															                                												 
  																	                                												 
  																																																																											
  																																																																																																	
  																				                                														   
      																																                                														 
																	   
																		
																					    												   												 
 	                                                                   
																				 
																				   
																			   
																				 
																				 															   														
																				 
																				  																					  
		    										                                                                       
																		  
													 
																				 															   																					  												 
																				 																																					  																					 			    							    																					  
																				    
																		 		   																					  	  						
																				    
																				 									
																				 														                      			 
																		  
																		 									   			
																		  
																		 																											        	    	  		   																				  	    	

 
														  
														  							   
				  						 
																   
																		  	
																		  
																				 																																																																	 			
																				 																																																																	 			
																				 																																																																		
																				   																		  	  
																				 																																							 	  													     				 
																				 																																												 													  
																				 																																												   
																				 																																																					 
																				 																																													 
																				 													 
																				 																																																	 
																				 																																																	 
																				 																																																	 														

  																																																													  																																																								
                         																							 
   
  



																				 
																				 
																				 																					  
																				 									
																				 	  							 
																				 
																				  

																				 																																		 



																				 	  															  	
																				 																				 
																	     		   	
																		 																					  	     	
																				 	  						
																				 																													  	
																				 																													  											
																			 																																	
																				 	  																																		
																				  													  			  					  										   																	
															