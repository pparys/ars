set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-check-constraints-3.0 {
  execsql {
    CREATE TABLE students(id INTEGER PRIMARY KEY, name TEXT NOT NULL, age INTEGER CHECK age BETWEEN  igt  igt  AND age  lt  igt);
    INSERT INTO students VALUES(1, 'John', 20);
    INSERT INTO students VALUES(2, 'Jane', 21);
  }
} {}

do_test delete-violates-check-3.1 {
  execsql {
    DELETE FROM students WHERE age = 21;
  }
} {0}

finish_test