set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-table-1.0 {
  execsql {
    CREATE TABLE orders(order_id INTEGER, customer_id INTEGER, order_date DATE);
    INSERT INTO orders(order_id, customer_id, order_date) VALUES 
      (101, 1, '2022-01-01');
    INSERT INTO orders(order_id, customer_id, order_date) VALUES 
      (102, 2, '2022-01-01');
  }
} {}

do_test subquery-orders-1.1 {
  execsql {
    SELECT customer_id 
    FROM orders 
    WHERE order_date = 
      SELECT ORDER BY order_date DESC LIMIT 1
    ;
  }
} {1}

finish_test