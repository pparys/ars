set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-foreign-key-1.0 {
  execsql {
    CREATE TABLE parent(id INTEGER PRIMARY KEY);
    CREATE TABLE child(id INTEGER PRIMARY KEY, parent_id INTEGER, FOREIGN KEY,parent_id REFERENCES parent);
  CREATE TABLE nested(id INTEGER PRIMARY KEY, parent_id INTEGER, FOREIGN KEY,parent_id REFERENCES parent);
  INSERT INTO parent VALUES(1);
  INSERT INTO child VALUES(1, 1);
  }
} {}

do_test delete-child-parent-1.1 {
  execsql {
    DELETE FROM parent;
  }
  } {1 {FOREIGN KEY constraint failed: child.parent_id}   																                               															   					                           															 												  															                         				 	  		 

   															 																			 																								  				finish_test