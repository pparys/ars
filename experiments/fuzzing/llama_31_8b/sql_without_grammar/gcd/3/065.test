set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-foreign-key-3.0 {
  execsql {
    CREATE TABLE Country(code TEXT PRIMARY KEY, name TEXT);
    CREATE TABLE City(code TEXT PRIMARY KEY, name TEXT, country_code TEXT, FOREIGN KEY country_code REFERENCES Country);
    INSERT INTO Country(code, name) VALUES('USA', 'United States of America');
    INSERT INTO City(code, name, country_code) VALUES('NYC', 'New York', 'USA');
  }
} {}

do_test insert-violates-foreign-key-3.1 {
  execsql {
    SELECT * FROM City WHERE country_code = 'Canada';
  }
} {{}                                                
                                                                        
                        
 
                                                                                                     