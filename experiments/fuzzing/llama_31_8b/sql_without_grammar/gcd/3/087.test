set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-paginated-view-1.0 {
  execsql {
    CREATE TABLE source(id INTEGER PRIMARY KEY, value TEXT);
    CREATE TABLE view(id INTEGER, value TEXT, CHECKSUM TEXT);
    CREATE TABLE pagination(id INTEGER PRIMARY KEY, start INTEGER, end INTEGER);
    INSERT INTO source VALUES(1, 'value1');
    INSERT INTO source VALUES(2, 'value2');
    INSERT INTO source VALUES(3, 'value3');
  }
} {}

do_test select-paginated-view-1.1 {
  execsql {
    UPDATE pagination SET start = 1, end = 2;
    UPDATE view SET value = reference_value, checksum = reference_checksum
    WHERE rowid = 1;
    SELECT value, checksum FROM view WHERE rowid = 1;
  }
} {
  {value1}
  	finish_test