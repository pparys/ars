set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-foreign-key-1.0 {
  execsql {
    CREATE TABLE customers(id INTEGER PRIMARY KEY, name TEXT);
    CREATE TABLE orders(id INTEGER PRIMARY KEY, customer_id INTEGER, 
                       FOREIGN KEYustomer_id) 
                       		   	 	 	 	 
    		   	 	 	 																																				  	 
    	       							 	 
    							 	      									  					 					   		 
  ;                                 											                                                                            		 		 	 

 
  CREATE TABLE orders ( id INTEGER PRIMARY KEY, customer_id INTEGER NOT NULL);
  CREATE TABLE orders ( id INTEGER PRIMARY KEY, customer_id INTEGER NOT NULL, FOREIGN KEY customer_id REFERENCES customers);

  INSERT INTO customers VALUES(1, 'John Doe');
  INSERT INTO orders VALUES(101, 1);
  }
} {}

do_test retrieve-orders-1.1 {
  execsql {
    SELECT name FROM customers, orders WHERE customers_id = orders_customer_id AND orders_id = 101;
  }
} {John Doe}

finish_test