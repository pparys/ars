set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-table-3.0 {
  execsql {
    CREATE TABLE employees(
      id INTEGER PRIMARY KEY,
      name TEXT NOT NULL,
      role TEXT DEFAULT NULL,
      salary REAL CHECKsalary BETWEEN  ulations WHEN CAST role AS NUM NOT NULL CREATE  UNIQUE 
    );
    CREATE TABLE departments(
      id INTEGER PRIMARY KEY,
      name TEXT NOT NULL UNIQUE
    );
  INSERT INTO  employees (id, name, role, salary) VALUES(1, 'John Doe', 'Manager', 56960.69);

  INSERT INTO departments(id, name) VALUES(101, 'IT');
} 

} {}

do_test insert-violates-check-3.1 {
  execsql {
    UPDATE employees SET role = NULL WHERE id = 1;
  }
} {0}

finish_test