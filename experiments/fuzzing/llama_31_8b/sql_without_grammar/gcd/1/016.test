set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-foreign-kts-2.0 {
  execsql {
    CREATE TABLE customers(id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT);
    CREATE TABLE orders(id INTEGER PRIMARY KEY AUTOINCREMENT, customer_id INTEGER,
                      FOREIGN KEYustomer_id) 
                      													   	 		   	 		
 												         	 			
           	  		          				 	          				 					         	 		
		;                                                                    	 						   	 	   
	INSERT INTO customers(name) VALUES('John Doe');
  INSERT INTO customers(name) VALUES('Jane Smith');
  INSERT INTO orders(customer_id) VALUES(1);
  INSERT INTO orders(customer_id) VALUES(2);
  }
} {}

do_test insert-violates-foreign-key-2.2 {
  execsql {
    UPDATE customers SET name = 'Bob Brown' WHERE id = 2;
    UPDATE customers SET id = 3 WHERE id = 2;
  }
} {0}

finish_test