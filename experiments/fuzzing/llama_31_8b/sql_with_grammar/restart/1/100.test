set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-constraints-3.0 {
  execsql {
    CREATE TABLE contacts(
      id INTEGER PRIMARY KEY,
      email TEXT UNIQUE,
      phone_number TEXT NOT NULL
    );
    INSERT INTO contacts(email, phone_number) VALUES('alice@example.com', '1234567890');
    INSERT INTO contacts(email, phone_number) VALUES('bob@example.com', '0987654321');
  }
} {}

do_test insert-null-violates-3.1 {
  execsql {
    SELECT * FROM contacts;
  }
} {1 {'alice@example.com'}  


                                         


                                                                                                                                 


                                                                                                                                 


                                         


                                         


                                                                                                         


                                                   


                                         


                                         


                                         


                                                                                                                                 


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                                   


                                         


                                         


                                         


                                                                                                                                 


                                         


                                         


                                           





    


                                         


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                         


                                         


                                         


                                         


    


                                         


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                         


                                         


                                         


                                         


                                         


                                         


   


  
  


  


                                         


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                                                                               


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


  
  


  


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                                                                               


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


                                         


                                         


                                         


                                         


                                         


                                         


  
  


  


                                         


                                         


                                                                                                                                 


                                         


                                         


                                                                                                                                 


                                         


