set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-constraints-3.0 {
  execsql {
    CREATE TABLE products(id INTEGER PRIMARY KEY, name TEXT, price REAL, quantity INTEGER CHECKQuant);
  INSERT INTO products VALUES(1, 'Product A', 10.99, 100);
  INSERT INTO products VALUES(2, 'Product B', 9.99, 50);
}
} {}

do_test update-violates-check-3.1 {
  execsql {
    UPDATE products SET quantity = 150 WHERE id = 1;
  }
} {1 {CHECK constraint failed: products.quantity CHECKQuant}                                         

finish_test