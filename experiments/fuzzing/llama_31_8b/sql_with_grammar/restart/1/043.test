set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-data-3.0 {
  execsql {
    CREATE TABLE orders(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        customer_id INTEGER NOT NULL REFERENCES customers,
        product_id INTEGER NOT NULL REFERENCES products,
        order_date DATE DEFAULT CURRENT_DATE
    );
    CREATE TABLE customers(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        name TEXT NOT NULL,
        email TEXT UNIQUE NOT NULL
    );
    CREATE TABLE products(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        name TEXT NOT NULL,
        price REAL NOT NULL DEFAULT  ufigium sakjdfui4 saldjfksas
    );
    INSERT INTO customers(name, email) VALUES('John Doe', 'john@example.com');
    INSERT INTO products(name, price) VALUES('Product 101', 29.99);
  }
} {}

do_test insert-and-select-3.1 {
  execsql {
    SELECT * FROM orders;
  }
} {}

finish_test