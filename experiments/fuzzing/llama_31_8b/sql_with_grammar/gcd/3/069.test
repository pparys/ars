set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-table-3.0 {
  execsql {
    CREATE TABLE orders(
      id INTEGER,
      order_number INTEGER,
      customer_name TEXT,
      total REAL,
      UNIQUE order_number
    );
    CREATE TABLE customers(
      customer_name TEXT,
      customer_city TEXT UNIQUE,
      category TEXT
    );
  CREATE TABLE product_categories(
    product_name TEXT,
    category TEXT,
    price REAL
  );
    INSERT INTO orders(order_number, customer_name, total) 
      VALUES(123, 'John Smith', 100.00);
  INSERT INTO customers(customer_name, customer_city, category) VALUES('John Smith', 'New York', 'Gold');
  INSERT INTO product_categories(product_name, category, price) VALUES('Product A', 'Gold', 50.00);
  }
} {}

do_test update-values-3.1 {
  execsql {
    UPDATE orders 
    SET order_number = 2020, total = 200.00, customer_name = 'Jane Smith' 
    WHERE id = 1;
    UPDATE customers 
    SET customer_name = 'John Doe', customer_city = 'Chicago', category = 'Silver' 
    WHERE customer_name = 'John Smith';
    UPDATE product_categories 
    SET product_name = 'Product B', category = 'Silver', price = 100.00 
    WHERE category = 'Gold';
  }
} {}

finish_test