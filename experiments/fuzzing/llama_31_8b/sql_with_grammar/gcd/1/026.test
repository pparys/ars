set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-constraints-3.0 {
  execsql {
    CREATE TABLE employees(id INTEGER PRIMARY KEY, name TEXT NOT NULL, salary REAL);
    INSERT INTO employees(id, name, salary) VALUES(1, 'Alice', 50000.0);
    INSERT INTO employees(id, name, salary) VALUES(2, 'Bob', 60000.0);
  }
} {}

do_test update-raising-error-3.1 {
  execsql {
    UPDATE employees SET name = NULL WHERE id = 1;
  }
} {1 {NOT NULL constraint failed: employees.name}
     


finish_test