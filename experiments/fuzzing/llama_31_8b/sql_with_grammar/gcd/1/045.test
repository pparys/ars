set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-constraints-3.0 {
  execsql {
    CREATE TABLE contacts(id INTEGER PRIMARY KEY AUTOINCREMENT, email TEXT UNIQUE, phone TEXT UNIQUE);
    INSERT INTO contacts VALUES('alice@example.com', '1234567890');
    INSERT INTO contacts VALUES('bob@example.com', '0987654321');
  }
} {}

do_test update-via-foreign-key-3.1 {
  execsql {
    UPDATE contacts SET phone = '1112223333' WHERE id = 1;
  }
} {}

finish_test