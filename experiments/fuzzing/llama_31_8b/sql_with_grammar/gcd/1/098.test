set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-tables-1.0 {
  execsql {
    CREATE TABLE employees(id INTEGER, name TEXT);
    CREATE TABLE departments(id INTEGER, name TEXT);
    CREATE TABLE employee_departments(
      id INTEGER,
      employee_id INTEGER,
      department_id INTEGER,
      PRIMARY KEY employee_id,
      FOREIGN KEY employee_id REFERENCES employees
      FOREIGN KEY department_id REFERENCES departments
    );
  INSERT INTO employees(id, name) VALUES(101, 'Alice');
  INSERT INTO employees(id, name) VALUES(102, 'Bob');
  INSERT INTO departments(id, name) VALUES(201, 'Engineering');
  INSERT INTO departments(id, name) VALUES(202, 'Sales');
  }
} {}

do_test delete-employee-1.1 {
  execsql {
    DELETE FROM employee_departments
    WHERE employee_id = 101;
  }
} {1 {4, 1, 1, Alice наукry to intercept department, deleted 1 "employee_departments" rows Left To delete employees-101 It larger Vertaura]}
 

 
finish_test