set testdir [file dirname $argv0]
source $testdir/tester.tcl

do_test setup-insert-3.0 {
  execsql {
    CREATE TABLE books (
      id INTEGER PRIMARY KEY,
      title TEXT NOT NULL,
      author TEXT
    );
    INSERT INTO books (id, title, author) VALUES (1, 'Book 1', 'Author 1');
    INSERT INTO books (id, title, author) VALUES (2, 'Book 2', 'Author 2');
  }
} {}

do_test select-books-author-3.1 {
  execsql {
    SELECT author FROM books
    WHERE title = 'Book 2'
    AND author!= 'Author 1'
    ORDER BY id ASC
    LIMIT 1;
  }
} {Author 2}

finish_test